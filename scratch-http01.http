###

@hostname = app-ezmq.horbo.id:8055

@directusUserToken = UaTM1wd2Hpp7ho0SlU-azDaxoYjNcq0r

@cookie_directus_session_token = directus_session_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjA3ODlkNTVlLTYyNTEtNDkyOS04Y2ZmLTEwMTgyNTI2NWUxYSIsInJvbGUiOiJiODc1M2E4Ni0yYTE0LTQwMzktYmQ3Zi05ZmU0ZDY3M2Q5MWEiLCJhcHBfYWNjZXNzIjp0cnVlLCJhZG1pbl9hY2Nlc3MiOnRydWUsInNlc3Npb24iOiJZWGhfbjF3QV95bjhVaDlOSDFOeDlFNnlBUzZjbzBrc0VRNGxmbFF3WUNub1RNVDVKSXJuUkJWVTRMOVJTY2Q4IiwiaWF0IjoxNzY5MDUwODI1LCJleHAiOjE3NjkxMzcyMjUsImlzcyI6ImRpcmVjdHVzIn0._Eh95dY9jH7vH-8lOupC0fdBjXc-X2Y9e-3zUHC8TMQ


###


###

GET /items/global
Host: {{hostname}}
Authorization: Bearer {{directusUserToken}}

###

GET /collections
Host: {{hostname}}
Authorization: Bearer {{directusUserToken}}

###

GET /users
Host: {{hostname}}
Authorization: Bearer {{directusUserToken}}

###


GET /collections
Host: {{hostname}}
Authorization: Bearer {{directusUserToken}}

###

GET /users/me?fields=id
Host: {{hostname}}
Cookie: {{cookie_directus_session_token}}

###

PATCH /users/62118065-a1d7-41b7-ac3e-650086cc8550
Host: {{hostname}}
Cookie: {{cookie_directus_session_token}}

{
  "token": "HH3u26nBoQui6mFU6WCCuQ5zsjQqoks8"
}

###

POST /collections HTTP/1.1
Host: {{hostname}}
Authorization: Bearer {{directusUserToken}}
Content-Type: application/json

{
    "collection": "web_browser",
    "fields": [
        {
            "field": "id",
            "type": "uuid",
            "meta": {
                "hidden": true,
                "readonly": true,
                "interface": "input",
                "special": [
                    "uuid"
                ]
            },
            "schema": {
                "is_primary_key": true,
                "length": 36,
                "has_auto_increment": false
            }
        },
        {
            "field": "status",
            "type": "string",
            "meta": {
                "width": "full",
                "options": {
                    "choices": [
                        {
                            "text": "$t:published",
                            "value": "published",
                            "color": "var(--theme--primary)"
                        },
                        {
                            "text": "$t:draft",
                            "value": "draft",
                            "color": "var(--theme--foreground)"
                        },
                        {
                            "text": "$t:archived",
                            "value": "archived",
                            "color": "var(--theme--warning)"
                        }
                    ]
                },
                "interface": "select-dropdown",
                "display": "labels",
                "display_options": {
                    "showAsDot": true,
                    "choices": [
                        {
                            "text": "$t:published",
                            "value": "published",
                            "color": "var(--theme--primary)",
                            "foreground": "var(--theme--primary)",
                            "background": "var(--theme--primary-background)"
                        },
                        {
                            "text": "$t:draft",
                            "value": "draft",
                            "color": "var(--theme--foreground)",
                            "foreground": "var(--theme--foreground)",
                            "background": "var(--theme--background-normal)"
                        },
                        {
                            "text": "$t:archived",
                            "value": "archived",
                            "color": "var(--theme--warning)",
                            "foreground": "var(--theme--warning)",
                            "background": "var(--theme--warning-background)"
                        }
                    ]
                }
            },
            "schema": {
                "default_value": "draft",
                "is_nullable": false
            }
        },
        {
            "field": "sort",
            "type": "integer",
            "meta": {
                "interface": "input",
                "hidden": true
            },
            "schema": {}
        },
        {
            "field": "user_created",
            "type": "uuid",
            "meta": {
                "special": [
                    "user-created"
                ],
                "interface": "select-dropdown-m2o",
                "options": {
                    "template": "\{\{avatar\}\} \{\{first_name\}\} \{\{last_name\}\}"
                },
                "display": "user",
                "readonly": true,
                "hidden": true,
                "width": "half"
            },
            "schema": {}
        },
        {
            "field": "date_created",
            "type": "timestamp",
            "meta": {
                "special": [
                    "date-created"
                ],
                "interface": "datetime",
                "readonly": true,
                "hidden": true,
                "width": "half",
                "display": "datetime",
                "display_options": {
                    "relative": true
                }
            },
            "schema": {}
        },
        {
            "field": "user_updated",
            "type": "uuid",
            "meta": {
                "special": [
                    "user-updated"
                ],
                "interface": "select-dropdown-m2o",
                "options": {
                    "template": "\{\{avatar\}\} \{\{first_name\}\} \{\{last_name\}\}"
                },
                "display": "user",
                "readonly": true,
                "hidden": true,
                "width": "half"
            },
            "schema": {}
        },
        {
            "field": "date_updated",
            "type": "timestamp",
            "meta": {
                "special": [
                    "date-updated"
                ],
                "interface": "datetime",
                "readonly": true,
                "hidden": true,
                "width": "half",
                "display": "datetime",
                "display_options": {
                    "relative": true
                }
            },
            "schema": {}
        }
    ],
    "schema": {},
    "meta": {
        "sort_field": "sort",
        "archive_field": "status",
        "archive_value": "archived",
        "unarchive_value": "draft",
        "singleton": false
    }
}

###

POST /relations HTTP/1.1
Host: {{hostname}}
Authorization: Bearer {{directusUserToken}}
Content-Type: application/json

{
    "collection": "web_browser",
    "field": "user_created",
    "related_collection": "directus_users",
    "schema": {}
}

###

POST /relations HTTP/1.1
Host: {{hostname}}
Authorization: Bearer {{directusUserToken}}
Content-Type: application/json

{
    "collection": "web_browser",
    "field": "user_updated",
    "related_collection": "directus_users",
    "schema": {}
}

###

POST /policies HTTP/1.1
Host: {{hostname}}
Authorization: Bearer {{directusUserToken}}
Content-Type: application/json

{
    "name": "Test Policy",
    "admin_access": true,
    "app_access": true
}

###

GET /policies?limit=-1&fields[]=id&fields[]=name&fields[]=icon&fields[]=description&fields[]=admin_access&fields[]=users&fields[]=roles&deep[users][_aggregate][count]=user&deep[users][_groupBy][0]=policy&deep[users][_sort]=policy&deep[users][_limit]=-1&deep[roles][_aggregate][count]=role&deep[roles][_groupBy][0]=policy&deep[roles][_sort]=policy&deep[roles][_limit]=-1&sort=name HTTP/1.1
Host: {{hostname}}
Authorization: Bearer {{directusUserToken}}
Content-Type: application/json

###

GET /policies?limit=-1&fields[]=id&fields[]=name&fields[]=icon&fields[]=description&fields[]=admin_access&fields[]=users&fields[]=roles&deep[users][_aggregate][count]=user&deep[users][_groupBy][0]=policy&deep[users][_sort]=policy&deep[users][_limit]=-1&deep[roles][_aggregate][count]=role&deep[roles][_groupBy][0]=policy&deep[roles][_sort]=policy&deep[roles][_limit]=-1&sort=name HTTP/1.1
Host: {{hostname}}
Authorization: Bearer {{directusUserToken}}
Content-Type: application/json

###

POST /users HTTP/1.1
Host: {{hostname}}
Authorization: Bearer {{directusUserToken}}
Content-Type: application/json

{
    "first_name": "frontend",
    "last_name": "public",
    "token": "KHRyZEINmtYKBIwqmxfHhOUD1TyAQAI9",
    "policies": {
        "create": [
            {
                "user": "+",
                "policy": {
                    "id": "abf8a154-5b1c-4a46-ac9c-7300570f4f17"
                }
            }
        ],
        "update": [],
        "delete": []
    }
}

###


###

###

###

###

###

###

###

###

@dummyPlaceholder = dummyPlaceholder

###

###

